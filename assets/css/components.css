/*estilos compartidos de componentes (botones, cards, etc.)*/
/* --------------------------------------------------------------------------
   6. Button
   -------------------------------------------------------------------------- */
.btn {
  font-size: 1rem;
  font-weight: 600;
  font-family: "Alegreya Sans", sans-serif;
  border-radius: 20px;
  align-items: center;
  padding: 1rem 2rem;
  align-items: center;
  width: 250px;
  margin: 2rem auto;
  background: #e0e0e0;
  border: none;
  border-radius: 20px;
  font-weight: 600;
  color: var(--color-bg-alt-2);
  cursor: pointer;
  box-shadow: 8px 8px 15px #bebebe, -8px -8px 15px #ffffff;
  transition: all 0.3s ease;

  flex: 1 1 auto; /*primer valor: 1 â†’ flex-grow.
  Le dice: â€œsi hay espacio libre, puedes crecerâ€.
  0 = no crece
  1 = puede crecer proporcionalmente
  Segundo valor: 1 â†’ flex-shrink
  Le dice: â€œsi falta espacio, puedes encogerteâ€.
  0 = no se encoge
  1 = se encoge si es necesario
  Tercer valor: auto â†’ flex-basis
  Define el tamaÃ±o base desde el que 
  calcula crecimiento/encogimiento.
  auto significa: â€œusa tu tamaÃ±o natural 
  (contenido, padding, etc.) como punto de partidaâ€.*/
  text-align: center;
  box-shadow: inset 10px 10px 20px #bebebe, inset -10px -10px 20px #ffffff;
  background: #e0e0e0;
  display: flex;
  justify-content: center;
}
@media (min-width: 320px) and (max-width: 480px) {
  .btn {
    font-size: var(--text-xs);
    width: 150px;
    padding: 0.5rem 1rem;
    line-height: 0.5rem;
    border-radius: 10px;
  }
}

@media (min-width: 481px) and (max-width: 768px) {
  .btn {
    font-size: var(--text-xs);
    width: 100px;
    padding: 0.75rem 1.25rem;
    line-height: 0.75rem;
    border-radius: 15px;
  }
}
/* Pressed/Inset Effect (when active) */
.btn:active {
  /* Inset shadows reverse the effect */
  box-shadow: inset 8px 8px 15px #bebebe, inset -8px -8px 15px #ffffff;
}
.btn:hover {
  box-shadow: 10px 10px 20px #bebebe, -10px -10px 20px #ffffff;
}

.btn-text:hover,
.btn-text:focus {
  color: var(--color-text-hover);
  backdrop-filter: blur(12px) saturate(150%);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
}

/* --------------------------------------------------------------------------
   7. About Section
   -------------------------------------------------------------------------- */
.about {
  height: 575px;
  padding: 4rem 0;

  background-image: url(/assets/images/geisha.png);
  background-repeat: no-repeat;

  /* TamaÃ±o fijo o pequeÃ±o para que NO crezca. Prueba con 200px. */
  background-size: 800px auto;

  /* Esquina superior derecha real */
  background-position: top right; /* base */
  background-position-x: calc(
    100% + 200px
  ); /* la mueves 40px mÃ¡s a la derecha */
  background-position-y: calc(100%); /* la mueves 40px mÃ¡s abajo */
  background-color: var(--color-bg);
}

/* Responsive overrides for .about to ensure geisha scales on small viewports */
@media (min-width: 320px) and (max-width: 480px) {
  .about {
    background-size: 160px auto;
    background-position: top right;
    background-position-x: calc(100% + 90px);
    background-position-y: calc(100% - 500px);
    height: auto;
    padding: 2rem 0;
  }
}

@media (min-width: 481px) and (max-width: 768px) {
  .about {
    background-size: 300px auto;
    background-position: top right;
    background-position-x: calc(100% + 90px);
    background-position-y: calc(100% - 500px);
    height: auto;
    padding: 3rem 0;
  }
}

.about-grid {
  display: grid;
  gap: var(--space-l);
}

@media (min-width: 768px) {
  .about-grid {
    grid-template-columns: 1fr; /* SOLO 1 COLUMNA */
  }
}
.about-title {
  font-size: var(--text-3xl);
  font-weight: 700;
  margin-bottom: var(--space-xl);
  text-align: center;
  font-family: "Pinyon Script", script;
  color: var(--color-bg-alt-2);
}
.about-text p {
  margin-bottom: var(--space-md);
  color: var(--color-bg-alt);
  font-family: "Alegreya Sans", sans-serif;
  padding-bottom: 20px;
  font-size: var(--text-sm);
}

/* Carrusel contenedor */
.skills-carousel {
  width: 90%; /* para que el carrusel no toque los extremos de la pantalla */
  display: flex;
  flex-direction: column;
  margin: 2rem auto; /* centra el carrusel */
  overflow: hidden;
}

/* Pista mÃ³vil */
.skills-track {
  display: flex;
  gap: 2rem;
  width: max-content;
  margin-bottom: 20px;
  animation: scrollCarousel 20s linear infinite;
}

@keyframes scrollCarousel {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(calc(-50%));
  }
}

.skills-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-md);
}

.skill-card {
  padding: var(--space-md);
  width: 240px;
  height: 140px;
  flex: 0 0 240px;
  border-radius: 12px;
  text-align: center;
  margin: 2rem auto;
  box-shadow: inset 10px 10px 20px #bebebe, inset -10px -10px 20px #ffffff;
  background: var(--color-bg);
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-direction: column;
}

.skill-icon {
  font-size: var(--text-2xl);
  display: block;
  margin-bottom: var(--space-sm);
}

.skill-card h3 {
  font-size: var(--text-sm);
  margin-bottom: var(--space-sm);
  font-family: "Alegreya Sans", sans-serif;
  color: var(--color-bg-alt-2);
}

.skill-bar {
  display: block;
  width: 100%;
  height: 6px;
  background: var(--color-bg-alt);
  border-radius: 3px;
  overflow: hidden;
  margin-top: var(--space-sm);
  /*ahora display: block; width: 100%; 
  margin-top: var(--space-sm); 
  para asegurar que ocupe todo el ancho interno.*/
}

.skill-fill {
  height: 100%;
  width: var(--fill, 95%);
  background: var(--color-accent-hover);
  border-radius: 3px;
  transition: width 1s var(--ease-out) 0.3s;
  /*ahora width: var(--fill, 95%); 
  background: var(--color-accent, #c5f0ea); 
  (usa la variable --fill si existe, y si no, 
  95% y un color por defecto).*/
  /*Por quÃ© desaparecÃ­an las barras: las causas comunes son:
Las variables CSS usadas (--fill, --color-accent) no estaban 
definidas o no se cargaron en el CSS final del deploy â†’ fondo/anchos 
quedan vacÃ­os/transparentes.

Una regla posterior en el CSS o en el build 
sobrescribÃ­a las reglas originales.

Overflow/transform del contenedor (carrusel) 
podÃ­a ocultarla si la barra quedaba fuera del 
Ã¡rea visible.
Por quÃ© la soluciÃ³n funciona: al aÃ±adir fallbacks 
y forzar width:100% y un color por defecto, 
la barra se muestra aunque falte la variable o 
cambie el orden de carga en producciÃ³n.*/
}

/* Animate skill bars when revealed */
[data-reveal-stagger].revealed .skill-fill {
  width: var(--fill);
}

/* --------------------------------------------------------------------------
   8. Projects Section
   -------------------------------------------------------------------------- */
.projects-grid {
  display: grid;
  gap: var(--space-lg);
  padding-bottom: var(--space-lg);
}

@media (min-width: 640px) {
  .projects-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .projects-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}


.projects-title {
  font-size: var(--text-3xl);
  font-weight: 700;
  margin-bottom: var(--space-xl);
  text-align: center;
  font-family: "Pinyon Script", script;
  color: var(--color-bg-alt-2);
}

.project-card {
  border-radius: 12px;
  overflow: hidden;
  transition: transform 0.3s, box-shadow 0.3s;
  padding: var(--space-sm); /* reduced padding */
  margin: 1.25rem auto; /* smaller vertical gap */
  max-width: 340px; /* constrain width to make cards smaller */
  width: 100%;
  background: var(--color-bg);
  display: flex;
  justify-content: space-between;
  flex-direction: column;
  border-radius: 20px;
  box-shadow: 12px 12px 24px #bebebe, -12px -12px 24px #ffffff;
}

.project-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

.project-image {
  aspect-ratio: 16/9; /* fixed, more compact image height */
  overflow: hidden;
  max-height: 220px;
}

.project-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s;
  border-radius: 10px;
}

.project-card:hover .project-image img {
  transform: scale(1.05);
}

.project-content {
  padding: var(--space-sm);
}

.project-content h3 {
  font-size: var(--text-lg);
  font-family: "Pinyon Script", sans-serif;
  color: var(--color-text);
}

.project-content p {
  font-size: var(--text-sm);
  color: var(--color-bg-alt);
  margin-bottom: var(--space-xs);
  font-family: "Alegreya Sans", sans-serif;
}

.project-tags {
  display: flex;
  gap: var(--space-xs);
  flex-wrap: wrap;
  font-family: "Alegreya Sans", sans-serif;
  color: var(--color-accent);
}

.project-tags span {
  font-size: var(--text-xs);
  padding: 4px 8px;
  background: var(--color-accent-hover);
  border-radius: 4px;
}

.view-project {
  font-family: "Alegreya Sans", sans-serif;
  font-size: var(--text-xs);
  color: var(--color-text-muted);
  text-decoration: underline;
}

.modal {
  /* Hidden by default */
  position: fixed;
  inset: 0;
  z-index: 1000;
  opacity: 0;
  visibility: hidden;
  transition: opacity var(--transition-base), visibility var(--transition-base);
}

/* When the modal's id matches the URL hash, :target applies */
.modal:target {
  opacity: 1;
  visibility: visible;
}

.modal__backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(4px);
  display: columns;
  place-items: center;
  padding: 1rem;
  font-family: "Alegreya Sans", sans-serif;
  text-align: justify;
  font-size: var(--text-xs);
  align-content: center;
}

.modal__panel {
  box-shadow: inset 10px 10px 20px #bebebe, inset -10px -10px 20px #ffffff;
  background-color: var(--color-bg);
  display: flex;
  justify-content: space-between;
  flex-direction: column;
  border: 1px solid var(--color-border);
  max-width: 400px;
  width: 100%;
  max-height: 90vh;
  overflow: auto;
  transform: scale(0.95) translateY(20px);
  transition: transform var(--transition-base);
  border-radius: 12px;
  align-content: center;

  /* Animation */
  transform: scale(0.95) translateY(20px);
  transition: transform var(--transition-base);
}

.modal:target .modal__panel {
  transform: scale(1) translateY(0);
}

.modal__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.25rem 1.5rem;
  border-bottom: 1px solid var(--color-accent-hover);
  font-family: "Pinyon Script", script;
}

.modal__title {
  font-size: 1.25rem;
  font-weight: 700;
  border-radius: 4px;
  margin: 0; /* separaciÃ³n controlada por gap */
  color: var(--color-text);
}

.modal__close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 12px;
  background: transparent;
  border: 1px solid var(--color-bg-alt-2);
  color: var(--color-text);
  text-decoration: none;
  font-size: 1.25rem;
  transition: background-color var(--transition-base),
    border-color var(--transition-base);
}

.modal__close:hover {
  background: var(--color-accent-hover);
  border-color: transparent;
}

.modal__image {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem 0;
  min-height: fit-content;
  overflow: hidden;
}

.modal__image img {
  display: block;
  width: cover;
  height: cover;
  max-width: 90%; /* no salga del ancho del modal /
max-height: 60vh; / evita que sobrepase la altura visible del modal /
object-fit: contain; / muestra la imagen completa sin recortar */
  object-position: center;
  margin: 0 auto;
  border-radius: 10px;
  /*Si tienes object-fit: cover o width:100%; height:100% quÃ­talos: recortan la imagen.
Si el .modal__panel tiene max-height: 90vh y mucho header/texto, reduce max-height del img (ej. 50vh) para que quepa.*/
}

.modal__body {
  padding: 1.5rem;
}

.modal__description {
  color: var(--color-bg-alt);
  margin-bottom: 1.5rem;
  line-height: 1.7;
}

/* SubtÃ­tulos dentro de la modal (ej. Brand concept, Naming, Logo) */
.modal-subtitle {
  display: block; /* fuerza nueva lÃ­nea */
  text-decoration: underline;
  margin: 1rem 0 0; /* separa del texto anterior y del contenido siguiente */
  font-weight: 600;
  color: var(--color-text);
}

.modal__tags {
  display: flex;
  gap: var(--space-xs);
  flex-wrap: wrap;
  padding: 0; /* quitar fondo/padding del contenedor */
  background: transparent; /* evitar un Ãºnico rectÃ¡ngulo */
  align-items: center;
}

.modal__tag,
.modal__tags span {
  display: inline-block;
  font-size: var(--text-xs);
  padding: 4px 8px;
  background: var(--color-accent-hover); /* morado (fallback) */
  color: var(--color-accent); /* texto claro */
  border-radius: 4px;
  margin: 0; /* separaciÃ³n controlada por gap */
}

.modal__actions {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

/* --------------------------------------------------------------------------
   9. Contact Section
   -------------------------------------------------------------------------- */
.contact {
  background-image: url(/assets/images/2gatos.PNG);
  background-repeat: no-repeat;
  background-color: var(--color-bg);
  background-position: center;
  background-size: cover;

  /* TamaÃ±o fijo o pequeÃ±o para que NO crezca. Prueba con 200px. */
  background-size: 900px auto;
  align-content: center;
  text-align: center;
}

.contact-title {
  font-size: var(--text-3xl);
  font-weight: 700;
  margin-bottom: var(--space-l);
  text-align: center;
  font-family: "Pinyon Script", script;
}
.contact-content p {
  font-size: var(--text-lg);
  color: var(--color-text-muted);
  margin-bottom: var(--space-lg);
  font-family: "Alegreya Sans", sans-serif;
  line-height: 25px;
}

.social-links {
  display: flex;
  justify-content: center;
  gap: var(--space-lg);
  margin-top: var(--space-lg);
  font-family: "Alegreya Sans", sans-serif;
}

.social-links a {
  color: var(--color-text-muted);
  transition: color 0.3s;
}

.social-links a:hover {
  color: var(--color-text);
}

/* --------------------------------------------------------------------------
   10. Footer
   -------------------------------------------------------------------------- */
.footer {
  padding: var(--space-lg) 0;
  text-align: center;
  color: var(--color-bg);
  font-size: var(--text-sm);
  font-family: "Alegreya Sans", sans-serif;
}

.footer .container {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.back-to-top {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-text);
  border-radius: 50%;
  transition: background 0.3s, transform 0.3s;
}

.back-to-top:hover {
  background: var(--color-text-muted);
  transform: translateY(-3px);
}

/* --------------------------------------------------------------------------
   11. SCROLL REVEAL ANIMATIONS (IntersectionObserver-driven)

   ðŸŽ“ THE CSS + JAVASCRIPT PARTNERSHIP:
   The JavaScript IntersectionObserver (in main.js) adds classes when elements
   enter the viewport. CSS handles the actual animation via transitions.

   This separation of concerns is powerful:
   - JS: "When should the animation start?" (viewport detection)
   - CSS: "How should the animation look?" (visual effects)

   ðŸ“ THE PATTERN:
   1. Elements start with opacity: 0 and transform: translateY(30px)
   2. JavaScript adds .visible class when element enters viewport
   3. CSS transitions smoothly animate to opacity: 1 and translateY(0)

   âš¡ PERFORMANCE NOTE:
   We ONLY animate `transform` and `opacity` because these properties:
   - Don't trigger layout recalculation (expensive!)
   - Don't trigger repaint (also expensive!)
   - Run on the GPU compositor thread (fast! 60fps!)

   NEVER animate: width, height, margin, padding, top, left, etc.
   These trigger layout and will cause jank (stuttering).
   -------------------------------------------------------------------------- */

/*
 * SINGLE ELEMENT REVEAL
 *
 * Use class="animate-on-scroll" on any element you want to fade in.
 * JavaScript will add .visible when it scrolls into view.
 */

.animate-on-scroll {
  opacity: 0; /* Start invisible */
  transform: translateY(30px); /* Start 30px below final position */

  /*
	 * TRANSITION SHORTHAND EXPANDED:
	 *
	 * transition: [property] [duration] [timing-function]
	 *
	 * We're transitioning TWO properties (opacity AND transform).
	 * Both use var(--duration-normal) = 0.6s
	 * Both use var(--ease-out) = our custom easing curve
	 */

  transition: opacity var(--duration-normal) var(--ease-out),
    transform var(--duration-normal) var(--ease-out);
}

.animate-on-scroll.visible {
  opacity: 1; /* Fade in */
  transform: translateY(0); /* Move to final position */
}

/* --------------------------------------------------------------------------
   STAGGERED REVEAL ANIMATION

   ðŸŽ“ WHAT IS STAGGERING?
   Staggering means animating children elements one after another instead of
   all at once. This creates a "cascade" or "wave" effect that draws the eye
   and feels more dynamic than everything appearing simultaneously.

   ðŸ“ HOW IT WORKS:
   1. Parent has [data-reveal-stagger] attribute
   2. All children start invisible (opacity: 0, translateY)
   3. When parent gets .revealed class, children animate with increasing delays
   4. transition-delay creates the stagger: 0.1s, 0.2s, 0.3s, etc.

   ðŸ’¡ DATA ATTRIBUTES:
   We use data-* attributes instead of classes because:
   - They're semantic: "this element reveals with stagger"
   - They can hold values: data-stagger-delay="0.2s" (future enhancement)
   - They're easily queryable: [data-reveal-stagger]
   -------------------------------------------------------------------------- */

[data-reveal-stagger] > * {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.5s var(--ease-out), transform 0.5s var(--ease-out);
}

/*
 * STAGGER DELAYS USING :nth-child
 *
 * Each child gets a progressively longer delay.
 * Child 1: 0.1s delay, Child 2: 0.2s delay, etc.
 *
 * This creates the "wave" effect as elements appear one by one.
 *
 * âš ï¸ LIMITATION: This only works for up to 6 children. For dynamic
 * content with unknown child count, you'd need JavaScript to set delays.
 */

[data-reveal-stagger].revealed > *:nth-child(1) {
  transition-delay: 0.1s;
}
[data-reveal-stagger].revealed > *:nth-child(2) {
  transition-delay: 0.2s;
}
[data-reveal-stagger].revealed > *:nth-child(3) {
  transition-delay: 0.3s;
}
[data-reveal-stagger].revealed > *:nth-child(4) {
  transition-delay: 0.4s;
}
[data-reveal-stagger].revealed > *:nth-child(5) {
  transition-delay: 0.5s;
}
[data-reveal-stagger].revealed > *:nth-child(6) {
  transition-delay: 0.6s;
}

[data-reveal-stagger].revealed > * {
  opacity: 1;
  transform: translateY(0);
}

/* --------------------------------------------------------------------------
   12. ACCESSIBILITY: REDUCED MOTION

   ðŸŽ“ WHY THIS MATTERS:
   Some users experience motion sickness, vestibular disorders, or seizures
   triggered by animations. Others simply find motion distracting.

   The `prefers-reduced-motion` media query respects user preferences set in
   their operating system settings:
   - macOS: System Preferences â†’ Accessibility â†’ Display â†’ Reduce motion
   - Windows: Settings â†’ Ease of Access â†’ Display â†’ Show animations
   - iOS: Settings â†’ Accessibility â†’ Motion â†’ Reduce Motion

   âš–ï¸ LEGAL REQUIREMENT:
   WCAG 2.1 Success Criterion 2.3.3 requires respecting user motion preferences.
   Ignoring this can expose you to accessibility lawsuits.

   ðŸ“ OUR APPROACH:
   When reduced motion is preferred, we:
   1. Disable ALL animations and transitions (near-instant 0.01ms)
   2. Make animated elements immediately visible (no waiting)
   3. Disable smooth scrolling (instant jumps instead)

   ðŸ’¡ WHY 0.01ms INSTEAD OF 0ms?
   Some browsers have bugs with 0ms duration. 0.01ms is effectively instant
   but avoids those edge cases.

   ðŸ”— LEARN MORE: https://web.dev/prefers-reduced-motion/

   -------------------------------------------------------------------------- */

@media (prefers-reduced-motion: reduce) {
  /*
	 * NUCLEAR OPTION: Disable ALL animations/transitions globally
	 *
	 * The !important ensures this overrides any other animation styles.
	 * This is one of the few legitimate uses of !important.
	 */

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important; /* Instant scroll, no smooth */
  }

  /*
	 * ENSURE ANIMATED CONTENT IS VISIBLE
	 *
	 * Without this, elements with opacity: 0 would stay invisible forever
	 * since the animation that reveals them is now disabled.
	 */

  .animate-on-scroll,
  [data-reveal-stagger] > * {
    opacity: 1; /* Fully visible */
    transform: none; /* No transform offset */
  }

  /*
	 * SKILL BARS: Show at full width immediately
	 */
  .skill-fill {
    width: var(--fill);
    transition: none;
  }
}

/* --------------------------------------------------------------------------
   13. Mobile Adjustments
   -------------------------------------------------------------------------- */
@media (max-width: 640px) {
  .nav-links {
    display: none; /* Would be hamburger menu in production */
  }

  .footer .container {
    flex-direction: column;
    gap: var(--space-md);
  }
}
